<div class="container">
  <button *ngIf="!sequenceId" type="button" class="btn btn-primary pull-right" [routerLink]="['/exercises/new']">
    <span class="glyphicon glyphicon-plus"></span>
    {{ '_CreateExercise_' | translate }}
  </button>
  <button *ngIf="sequenceId" type="button" class="btn btn-primary pull-right" [routerLink]="['/exercises/new/' + sequenceId]">
    <span class="glyphicon glyphicon-plus"></span>
    {{ '_AddExercise_' | translate }}
  </button>
  <h2>{{ '_Exercises_' | translate }}</h2>
  <h3 *ngIf="sequence?.sequenceId">{{sequence.sequenceName}}</h3>
  <div class="filters-container" *ngIf="exercises && exercises.length">
    <div class="[ form-group ] filter">
        <input type="checkbox" name="image" id="image" autocomplete="off" [(ngModel)]="imageFilter"/>
        <div class="[ btn-group ]">
            <label for="image" class="[ btn btn-primary ]">
                <span class="[ glyphicon glyphicon-ok ]"></span>
                <span> </span>
            </label>
            <label for="image" class="[ btn btn-default active ]">
                {{ "_Image_" | translate}}
            </label>
        </div>
    </div>
    <div class="[ form-group ] filter">
        <input type="checkbox" name="text" id="text" autocomplete="off" [(ngModel)]="textFilter"/>
        <div class="[ btn-group ]">
            <label for="text" class="[ btn btn-primary ]">
                <span class="[ glyphicon glyphicon-ok ]"></span>
                <span> </span>
            </label>
            <label for="text" class="[ btn btn-default active ]">
                {{ "_Text_" | translate}}
            </label>
        </div>
    </div>
  </div>
  <loader *ngIf="loading"></loader>
  <div *ngIf="!loading">
    <p *ngIf="exercises?.length === 0">{{ '_NoExercises_' | translate }}</p>
    <div class="panel panel-default" *ngFor="let exercise of exercises | exerciseTypeFilter: imageFilter:textFilter">
      <div class="panel-body">
        <h3>{{exercise.question?.questionDescription}}</h3>
        <h3>{{exercise.question?.stimulusText}}</h3>
        <img *ngIf="exercise.question?.stimulus" class="thumbnail" [src]="'vithea-kids/assets/' + exercise.question?.stimulus?.resourcePath">
        <h4>{{exercise.topic?.topicDescription}} {{exercise.level?.levelDescription}}</h4>
        <div class="col-md-6 col-sm-6" *ngFor="let distractor of exercise.answers">{{distractor?.answerDescription}}
          <img *ngIf="distractor.stimulus" class="thumbnail" [src]="'vithea-kids/assets/' + distractor.stimulus?.resourcePath">
          <span class="pull-right glyphicon glyphicon-check" *ngIf="distractor.answerId == exercise.rightAnswer?.answerId"></span>
          <span class="pull-right glyphicon glyphicon-unchecked" *ngIf="distractor.answerId != exercise.rightAnswer?.answerId"></span>
        </div>
      </div>
      <div class="panel-heading">
        <!--<button type="button" class="btn btn-primary" [routerLink]="['/exercises/' + exercise.exerciseId + '/edit']">
          <span class="glyphicon glyphicon-pencil"></span>
          {{ '_Edit_' | translate }}
        </button>-->
        <button type="button" class="btn btn-primary" (click)="deleteExercise(exercise.exerciseId)">
          <span class="glyphicon glyphicon-trash"></span>
          {{ '_Delete_' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>